<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hangman Game</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    background: url(https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/3253300/header.jpg?t=1732659042);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    flex-wrap: wrap;
}

h1 {
    text-align: center;
    color: #22ff00;
    margin-bottom: 30px;
    font-size: 3em;
    letter-spacing: 10px;
}

#ehnii-container{
    display: flex;
    align-items: start;
    justify-content: center;
    flex-direction: column;
    position: relative;
    float: left;
}

.togloomiin_medegdel {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
    font-size: 1.1em;
    gap: 16px;
    flex-wrap: wrap;
}

.score-display {
    color: #00ff2f;
    font-weight: bold;
}

.hangman-display {
    position: relative;
    float: right;
    text-align: center;
    margin: 30px 0;
}

img { border-radius: 10px; }

.hangman-image { max-width: 300px; height: auto; }

.question-container {
    background: #f8f9ff;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 30px;
}

.question-container p {
    font-size: 1.2em;
    color: #333;
    font-weight: 500;
}

.answer-container {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 30px 0;
    flex-wrap: wrap;
}

.letter-box {
    width: 50px;
    height: 60px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8em;
    font-weight: bold;
    color: #00f800;
    text-transform: uppercase;
    background: white;
    transition: all 0.3s;
}

.letter-box.filled {
    background: #00fe04;
    color: white;
    transform: scale(1.1);
}

.keyboard-container {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 8px;
    margin-top: 30px;
    width: 600px;
}

.keyboard-key {
    padding: 15px 10px;
    background: #147600;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.1em;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    text-transform: uppercase;
}

.keyboard-key:disabled {
    background: #ccc;
    cursor: not-allowed;
    transform: none;
}

.game-message {
    text-align: center;
    margin-top: 20px;
    font-size: 1.3em;
    font-weight: bold;
    min-height: 30px;
}

.game-message.win { color: #28a745; }
.game-message.lose { color: #dc3545; }

.next-button, .restart-button, .start-button {
    display: block;
    margin: 20px auto 0;
    padding: 15px 40px;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.2em;
    cursor: pointer;
    transition: all 0.3s;
}

.next-button { background: #28a745; }
.next-button:hover { background: #218838; transform: scale(1.05); }

.restart-button { background: #667eea; }

.start-button { background: #ff7a00; }
.start-button:hover { transform: scale(1.05); }

.hidden { display: none; }
</style>
</head>
<body>

<div class="game-container" id="ehnii-container">
    <h1>H A N G M A N</h1>

    <div class="togloomiin_medegdel">
        <div class="score-display">–ê—Å—É—É–ª—Ç: <span id="odoogiinAsuult">0</span>/<span id="niitAsuult">5</span></div>
        <div class="score-display">–ê–ª–¥–∞–∞: <span id="asuultTooloh">0</span>/<span id="maxAldaa">5</span></div>
        <div class="score-display">–û–Ω–æ–æ: <span id="OnooniiUtga">0</span>/<span id="niitOnoo">50</span></div>
    </div>

    <!-- ‚úÖ Start button -->
    <button class="start-button" id="startButton">–≠—Ö–ª—ç—Ö</button>
</div>

<div class="hangman-display">
    <img id="hangmanImage" class="hangman-image" src="duujluur.jpg" alt="Hangman">
</div>

<div class="game-container" id="hoyr-container">
    <div class="question-container">
        <p id="questionText">–≠—Ö–ª—ç—Ö —Ç–æ–≤—á –¥–∞—Ä–Ω–∞ —É—É...</p>
    </div>

    <div class="answer-container" id="answerBoxes"></div>
    <div class="keyboard-container" id="keyboardContainer"></div>

    <div class="game-message" id="gameMessage"></div>

    <button class="next-button hidden" id="nextButton">–î–∞—Ä–∞–∞–≥–∏–π–Ω –∞—Å—É—É–ª—Ç</button>
    <button class="restart-button hidden" id="restartButton">–î–∞—Ö–∏–Ω —ç—Ö–ª—ç—Ö</button>
</div>

<script>
const asuultuud = [
    { asuult: "Mongol ulsiin niislel hotiin ner?", hariult: "ULAANBAATAR" },
    { asuult: "Delhiin hamgiin tom dalain ner?", hariult: "PACIFIC" },
    { asuult: "Mongoliin hamgiin tom nuuriin ner?", hariult: "UVS" },
    { asuult: "Odoo ymar tootoi sar bolj baigaa ve? (angli usger)", hariult: "TWELVE" },
    { asuult: "Narni aimgiin hamgiin tom garagin ner?(angliar)", hariult: "JUPITER" }
];

const hangman_zurag = [
    'duujluur.jpg',
    'tolgoi.jpg',
    'tolgoitoi biy.jpg',
    'tolgoi biy hol.jpg',
    'gar.jpg',
    'uhel.jpg'
];

const MAX_ALDAA = hangman_zurag.length - 1;

let onoo = 0;
let aldaa = 0;               // ‚úÖ restart —Ö“Ø—Ä—Ç—ç–ª reset –±–æ–ª–æ—Ö–≥“Ø–π
let odoogiin_ug = '';
let darsan_usguud = [];
let togloom_idewhtei = false;

let asuult_order = [];       // ‚úÖ random –¥–∞—Ä–∞–∞–ª–∞–ª
let order_index = 0;         // –æ–¥–æ–æ–≥–∏–π–Ω random –∂–∞–≥—Å–∞–∞–ª—Ç—ã–Ω –∏–Ω–¥–µ–∫—Å

const asuult_text = document.getElementById('questionText');
const hariult_hairtsag = document.getElementById('answerBoxes');
const keyboard_container = document.getElementById('keyboardContainer');
const togloomiin_message = document.getElementById('gameMessage');
const daraagiin_towch = document.getElementById('nextButton');
const dahin_ehle_towch = document.getElementById('restartButton');
const start_towch = document.getElementById('startButton');

const odoogiin_asuult_span = document.getElementById('odoogiinAsuult');
const niit_asuult_span = document.getElementById('niitAsuult');
const aldaa_span = document.getElementById('asuultTooloh');
const max_aldaa_span = document.getElementById('maxAldaa');
const onoo_span = document.getElementById('OnooniiUtga');
const niit_onoo_span = document.getElementById('niitOnoo');
const hangman_zurag_elem = document.getElementById('hangmanImage');

function shuffle(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
    return arr;
}

function updateHUD() {
    const totalScore = asuultuud.length * 10;

    niit_asuult_span.textContent = asuultuud.length;
    niit_onoo_span.textContent = totalScore;
    max_aldaa_span.textContent = MAX_ALDAA;

    // order_index –Ω—å 0-—Å —ç—Ö—ç–ª–¥—ç–≥ —Ç—É–ª HUD –¥—ç—ç—Ä +1
    odoogiin_asuult_span.textContent = togloom_idewhtei ? (order_index + 1) : 0;

    aldaa_span.textContent = aldaa;
    onoo_span.textContent = onoo;
    hangman_zurag_elem.src = hangman_zurag[Math.min(aldaa, MAX_ALDAA)];
}

function keyboard_disable_all() {
    document.querySelectorAll('.keyboard-key').forEach(btn => btn.disabled = true);
}

function togloom_duusgah({ win, revealAnswer = null }) {
    togloom_idewhtei = false;
    keyboard_disable_all();
    daraagiin_towch.classList.add('hidden');
    dahin_ehle_towch.classList.remove('hidden');

    const total = asuultuud.length * 10;
    asuult_text.textContent = `–¢–æ–≥–ª–æ–æ–º –¥—É—É—Å–ª–∞–∞! –¢–∞–Ω—ã —ç—Ü—Å–∏–π–Ω –æ–Ω–æ–æ: ${onoo}/${total}`;

    if (win) {
        togloomiin_message.textContent = 'üèÜ –ú–∞—à —Å–∞–π–Ω! –ë“Ø–≥–¥–∏–π–≥ –¥—É—É—Å–≥–∞–ª–∞–∞!';
        togloomiin_message.className = 'game-message win';
    } else {
        togloomiin_message.textContent =
            revealAnswer ? `üíÄ –¢–∞ –∞–ª–¥–∞–∞–Ω—ã –¥—ç—ç–¥ —Ö—ç–º–∂—ç—ç–Ω–¥ —Ö“Ø—Ä–ª—ç—ç. –°“Ø“Ø–ª—á–∏–π–Ω —Ö–∞—Ä–∏—É–ª—Ç: ${revealAnswer}` :
                           'üíÄ –¢–∞ –∞–ª–¥–∞–∞–Ω—ã –¥—ç—ç–¥ —Ö—ç–º–∂—ç—ç–Ω–¥ —Ö“Ø—Ä–ª—ç—ç. –î–∞—Ö–∏–Ω –æ—Ä–æ–ª–¥–æ–æ—Ä–æ–π!';
        togloomiin_message.className = 'game-message lose';
    }
}

function togloom_ehluuleh() {
    if (aldaa >= MAX_ALDAA) {
        togloom_duusgah({ win: false });
        return;
    }

    if (order_index >= asuultuud.length) {
        togloom_duusgah({ win: true });
        return;
    }

    const actualIndex = asuult_order[order_index]; // ‚úÖ random –∞—Å—É—É–ª—Ç
    const odoogiin = asuultuud[actualIndex];

    odoogiin_ug = odoogiin.hariult.toUpperCase();
    darsan_usguud = [];
    togloom_idewhtei = true;

    asuult_text.textContent = odoogiin.asuult;
    togloomiin_message.textContent = '';
    togloomiin_message.className = 'game-message';
    daraagiin_towch.classList.add('hidden');
    dahin_ehle_towch.classList.add('hidden');
    updateHUD();

    // –•–∞—Ä–∏—É–ª—Ç—ã–Ω —Ö–∞–π—Ä—Ü–∞–≥
    hariult_hairtsag.innerHTML = '';
    for (let i = 0; i < odoogiin_ug.length; i++) {
        const haiurtsag = document.createElement('div');
        haiurtsag.className = 'letter-box';
        haiurtsag.dataset.index = i;
        if (odoogiin_ug[i] === ' ') {
            haiurtsag.style.border = 'none';
            haiurtsag.style.background = 'transparent';
        }
        hariult_hairtsag.appendChild(haiurtsag);
    }

    keyboard_uusgeh();
}

function keyboard_uusgeh() {
    keyboard_container.innerHTML = '';
    const usguud = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

    for (let useg of usguud) {
        const towch = document.createElement('button');
        towch.className = 'keyboard-key';
        towch.textContent = useg;
        towch.addEventListener('click', () => useg_shalgah(useg, towch));
        keyboard_container.appendChild(towch);
    }
}

function useg_shalgah(useg, towch) {
    if (!togloom_idewhtei) return;

    if (odoogiin_ug.includes(useg)) {
        const haiurtsguud = document.querySelectorAll('.letter-box');
        let ilruulsen = false;

        // ‚úÖ –Ω—ç–≥ –¥–∞—Ä–∞–∞–ª—Ç–∞–∞—Ä 1 —à–∏—Ä—Ö—ç–≥ “Ø—Å—ç–≥ –ª –∏–ª –≥–∞—Ä–Ω–∞
        for (let i = 0; i < odoogiin_ug.length; i++) {
            if (odoogiin_ug[i] === useg && !haiurtsguud[i].classList.contains('filled')) {
                haiurtsguud[i].textContent = useg;
                haiurtsguud[i].classList.add('filled');
                ilruulsen = true;
                break;
            }
        }

        // –±“Ø—Ö –±–∞–π—Ä–ª–∞–ª –∏–ª –±–æ–ª—Å–æ–Ω –±–æ–ª disable
        if (!ilruulsen) {
            towch.disabled = true;
            if (!darsan_usguud.includes(useg)) darsan_usguud.push(useg);
        }

        if (hojson_uu()) {
            togloom_idewhtei = false;
            onoo += 10;
            updateHUD();
            keyboard_disable_all();

            togloomiin_message.textContent = '–¢–∞ —è–ª–ª–∞–∞!';
            togloomiin_message.className = 'game-message win';
            daraagiin_towch.classList.remove('hidden');
        }
    } else {
        if (!darsan_usguud.includes(useg)) {
            darsan_usguud.push(useg);
            towch.disabled = true;

            aldaa++;
            updateHUD();

            if (aldaa >= MAX_ALDAA) {
                hariult_haruulah();
                togloom_duusgah({ win: false, revealAnswer: odoogiin_ug }); // ‚úÖ message –¥–∞—Ä–∂ —É—Å—Ç–≥–∞—Ö–≥“Ø–π
            }
        }
    }
}

function hojson_uu() {
    for (let i = 0; i < odoogiin_ug.length; i++) {
        if (odoogiin_ug[i] !== ' ') {
            const haiurtsag = document.querySelector(`.letter-box[data-index="${i}"]`);
            if (!haiurtsag.classList.contains('filled')) return false;
        }
    }
    return true;
}

function hariult_haruulah() {
    const haiurtsguud = document.querySelectorAll('.letter-box');
    for (let i = 0; i < odoogiin_ug.length; i++) {
        if (odoogiin_ug[i] !== ' ') {
            haiurtsguud[i].textContent = odoogiin_ug[i];
            haiurtsguud[i].classList.add('filled');
            haiurtsguud[i].style.background = '#dc3545';
        }
    }
}

// ‚úÖ Next
daraagiin_towch.addEventListener('click', () => {
    order_index++;
    togloom_ehluuleh();
});

// ‚úÖ Restart (Start —Ç–æ–≤—á –±—É—Ü–∞–∞–∂ –≥–∞—Ä–≥–∞–Ω–∞)
dahin_ehle_towch.addEventListener('click', () => {
    order_index = 0;
    onoo = 0;
    aldaa = 0;

    togloomiin_message.className = 'game-message';
    togloomiin_message.textContent = '';
    daraagiin_towch.classList.add('hidden');
    dahin_ehle_towch.classList.add('hidden');

    asuult_text.textContent = '–≠—Ö–ª—ç—Ö —Ç–æ–≤—á –¥–∞—Ä–Ω–∞ —É—É...';
    keyboard_container.innerHTML = '';
    hariult_hairtsag.innerHTML = '';

    start_towch.classList.remove('hidden');
    togloom_idewhtei = false;
    updateHUD();
});

// ‚úÖ Start: random –¥–∞—Ä–∞–∞–ª–ª–∞–∞—Ä —Ç–æ–≥–ª–æ–æ–º —ç—Ö–ª“Ø“Ø–ª–Ω—ç
start_towch.addEventListener('click', () => {
    asuult_order = shuffle([...Array(asuultuud.length).keys()]);
    order_index = 0;
    onoo = 0;
    aldaa = 0;

    start_towch.classList.add('hidden');
    updateHUD();
    togloom_ehluuleh();
});

// Initial
updateHUD();
</script>

</body>
</html>
